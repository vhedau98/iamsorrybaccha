<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Just Sorry ü§ç</title>

  <style>
    body {
      margin: 0;
      height: 100vh;
      background: linear-gradient(135deg, #ffe6ea, #ffdcdc);
      display: flex;
      justify-content: center;
      align-items: center;
      font-family: 'Segoe UI', sans-serif;
      overflow: hidden;
    }

    .card {
      background: white;
      border-radius: 28px;
      padding: 26px;
      width: 320px;
      text-align: center;
      box-shadow: 0 18px 35px rgba(0,0,0,0.15);
      animation: cardIn 1s ease;
      transition: 0.4s ease;
    }

    .card.dim {
      opacity: 0.25;
      filter: blur(2px);
      pointer-events: none;
    }

    @keyframes cardIn {
      from { opacity: 0; transform: translateY(30px) scale(0.95); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }

    img {
      width: 150px;
      height: 150px;
      object-fit: cover;
      border-radius: 50%;
      border: 4px solid #ff9aa2;
      margin-bottom: 15px;
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .fade {
      opacity: 0;
      transform: scale(0.9);
    }

    .heart-beat {
      animation: beat 1.2s infinite;
    }

    @keyframes beat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.15); }
    }

    h2 {
      color: #e63946;
      margin-bottom: 8px;
    }

    p {
      color: #444;
      font-size: 14px;
      line-height: 1.6;
      min-height: 60px;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    p.show {
      opacity: 1;
      transform: translateY(0);
    }

    button {
      margin-top: 18px;
      padding: 10px 24px;
      border: none;
      border-radius: 25px;
      background: #e63946;
      color: white;
      font-size: 14px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    button:active {
      transform: scale(0.95);
    }

    /* POPUP */
    .popup {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.4);
      backdrop-filter: blur(4px);
      display: flex;
      justify-content: center;
      align-items: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s ease;
      z-index: 10;
    }

    .popup.visible {
      opacity: 1;
      pointer-events: auto;
    }

    .popup-content {
      background: white;
      padding: 36px 40px;
      border-radius: 28px;
      text-align: center;
      width: 240px;
      animation: popUp 0.6s ease forwards;
    }

    @keyframes popUp {
      from { transform: scale(0.85); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    .popup-heart {
      font-size: 42px;
      animation: beat 1.2s infinite;
    }

    .popup-content p {
      margin-top: 12px;
      font-size: 16px;
      color: #444;
    }
  </style>
</head>

<body>

  <div class="card">
    <img id="photo" src="sorry1.jpg" alt="Sorry">

    <h2>I'm Sorry</h2>

    <p id="text" class="show">
      I know I hurt you.<br>
      You didn‚Äôt deserve that.
    </p>

    <button id="btn" onclick="nextStep()">Tap</button>
  </div>

  <!-- POPUP -->
  <div id="popup" class="popup">
    <div class="popup-content">
      <div class="popup-heart">ü§ç</div>
      <p>
        I love you.<br>
        Always.
      </p>
    </div>
  </div>

  <script>
    const messages = [
      "I know I hurt you.<br>You didn‚Äôt deserve that.",
      "I should have been more gentle<br>with your feelings.",
      "Your emotions matter.<br>I failed to show that.",
      "I‚Äôm truly sorry for the pain I caused."
    ];

    let step = 0;
    const photo = document.getElementById("photo");
    const text = document.getElementById("text");
    const button = document.getElementById("btn");
    const card = document.querySelector(".card");

    function nextStep() {
      step++;

      // END STATE
      if (step === messages.length) {
        button.style.display = "none";
        card.classList.add("dim");
        document.getElementById("popup").classList.add("visible");
        return;
      }

      // text animation
      text.classList.remove("show");
      setTimeout(() => {
        text.innerHTML = messages[step];
        text.classList.add("show");
      }, 300);

      // photo switch
      if (step === 2) {
        photo.classList.add("fade");
        setTimeout(() => {
          photo.src = "sorry2.jpg";
          photo.classList.remove("fade");
          photo.classList.add("heart-beat");
        }, 400);
      }
    }
  </script>

</body>
</html>
